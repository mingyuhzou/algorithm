## è´ªå¿ƒ

è´ªå¿ƒç®—æ³•æŒ‡çš„æ˜¯åœ¨å¯¹é—®é¢˜æ±‚è§£çš„æ—¶å€™é€‰æ‹©ä»å½“å‰çœ‹æ¥åšå¥½çš„é€‰æ‹©ï¼Œä¸ä»æ•´ä½“ä¸Šè€ƒè™‘è€Œæ˜¯å±€éƒ¨ä¸Šï¼Œè´ªå¿ƒç®—æ³•ä¸ä¿è¯å¾—åˆ°æœ€ä¼˜è§£ï¼Œä½†æŸäº›é—®é¢˜çš„æœ€ä¼˜è§£å°±æ˜¯è´ªå¿ƒç®—æ³•ï¼Œéœ€è¦åˆ¤æ–­ä¸€ä¸ªé—®é¢˜æ˜¯å¦é€‚åˆç”¨è´ªå¿ƒæ±‚è§£ã€‚è´ªå¿ƒæ˜¯åŠ¨æ€è§„åˆ’çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚

æ¯”å¦‚åœ¨èƒŒåŒ…é—®é¢˜ä¸­ï¼Œç”¨æ‰¿è½½èƒ½åŠ›æœ‰é™çš„èƒŒåŒ…ä¸­å¸¦èµ°æœ€å¤§ä»·å€¼çš„å•†å“ï¼š
ä¼˜å…ˆé€‰æ‹©æœ€æœ‰ä»·å€¼çš„å•†å“è£…å…¥èƒŒåŒ…

```python
goods=[(50,10),(120,30),(100,20)]
goods.sort(key=lambda x:x[0]/x[1],reverse=True)# æŒ‰ç…§ä»·å€¼æ’åº
def backpack(goods,w):
    m=[0 for _ in range(len(goods))]# æ¯ç§è´§ç‰©æ‹¿å–çš„ç™¾åˆ†æ¯”
    for i ,(_,weight) in enumerate(goods):
        if w>=weight:
            m[i]=1
            w-=weight
        else:# ç©ºé—´ä¸å¤Ÿ
            m[i]=w/weight
            w=0
            break
    return m
print(backpack(goods,50))
```

å°†ä¸€ç¾¤éè´Ÿæ•´æ•°ç»„åˆå‡ºæœ€å¤§çš„å€¼ï¼ŒåŒæ ·æ˜¯è´ªå¿ƒçš„æ€æƒ³ï¼Œå°†é¦–ä½æœ€å¤§çš„æ”¾åˆ°å‰é¢

```python
li=[32,94,128,1286,6,71]

def number_join(li):
    li=list(map(str,li))
    li=sorted(li)
    li.reverse()
    return "".join(li)
print(number_join(li))
```

è´ªå¿ƒç®—æ³•é‡è¦çš„æ˜¯é€‰æ‹©æœ€ä¼˜çš„æ¡ä»¶ï¼Œåœ¨æˆ‘å‘¢ææ´»åŠ¨åœºåœ°ä¸­ï¼ˆä¸€ä¸ªåœºåœ°ä¾æ¬¡åªèƒ½è¿›è¡Œä¸€ä¸ªæ´»åŠ¨ï¼Œæ¯ä¸ªæ´»åŠ¨æœ‰å›ºå®šçš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œé—®å¦‚ä½•å®‰æ’æ‰èƒ½è¿›è¡Œæœ€å¤šçš„æ´»åŠ¨ï¼‰è®¤ä¸ºæ´»åŠ¨ç»“æŸæ—¶é—´æœ€æ—©çš„ä¸ºæœ€ä¼˜æ¡ä»¶ã€‚

```python
a=[(1,4),(3,5),(0,6),(5,7),(3,9),(5,9),(6,10),(8,11),(8,12),(2,14),(12,16)]
a.sort(key=lambda x : x[1])
def activity(a):
    res=[a[0]]
    for i in range(1,len(a)):
        if a[i][0]>=res[-1][1]:# å½“å‰æ´»åŠ¨çš„å¼€å§‹æ—¶é—´å°äºä¸Šä¸€ç»“æŸæ—¶é—´
            res.append(a[i])
    return res
print(activity(a))
```

### æ‰§è¡Œå­ä¸²æ“ä½œåçš„å­—å…¸åºæœ€å°å­—ç¬¦ä¸²

<img src="./assets/image-20231113132142803-1733840243519-182-1735358080551-56-1736827600812-1.png" alt="image-20231113132142803" style="zoom:50%;" />

æ³¨æ„aå‰é¢æ˜¯zè€Œä¸æ˜¯ä¸å­˜åœ¨ï¼Œå¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœæ˜¯aä¼šå˜æˆzå¯¼è‡´å­—å…¸åºå˜å¤§ï¼Œå› æ­¤ä¸èƒ½æ“ä½œaå­—ç¬¦ï¼Œè€Œå…¶ä»–çš„æ‰€æœ‰å­—ç¬¦éƒ½å¯ä»¥å‰è¿›ä¸€ä½ã€‚

è´ªå¿ƒçš„æ€æƒ³ï¼Œå°½å¯èƒ½åœ°å°†å‰é¢çš„å€¼æ¢æ‰ï¼Œé™¤éä¸èƒ½æ¢ã€‚

```python
class Solution:0
    def smallestString(self, s: str) -> str:
        t=list(s)
        for i in range(len(s)):
            # å¦‚æœä¸æ˜¯açš„è¯ï¼Œå¯¹ä»–åé¢çš„å…ƒç´ æ“ä½œï¼Œç›´åˆ°åˆé‡åˆ°äº†aæˆ–è€…æ˜¯åˆ°äº†æœ«å°¾
            if t[i]!='a':
                for j in range(i,len(s)):
                    if t[j]=='a':
                        break
                    else:
                        t[j]=chr(ord(t[j])-1)
                return "".join(t)
        # æ³¨æ„å¦‚æœå­—ç¬¦ä¸²å…¨æ˜¯a ï¼Œä½†åˆä¸èƒ½é€‰æ‹©ç©ºçš„å­—ç¬¦ä¸²ï¼Œåªèƒ½å°†å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå…ƒç´ æ¢ä¸ºz
        t[-1]='z'
        return "".join(t)
```



### Sakurako's Exam

![image-20240912084435469](./assets/image-20240912084435469-1733840243519-183-1735358080551-57-1736827600812-2.png)

1æ¯”è¾ƒä¸‡èƒ½æ‰€ä»¥å…ˆè®©2ç›¸äº’æŠµæ¶ˆç„¶åç”¨1æŠµæ¶ˆå‰©ä¸‹çš„2ï¼Œæœ€åè®©1ç›¸äº’æŠµæ¶ˆ

```python
for _ in range(R()):
    l,r=RR()
    if l&1==0 and r&1==0:print('YES')
    elif l&1==0 and (r+(l>>1))&1==0:print('YES')
    else:print('NO')
```





























### [ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡](https://leetcode.cn/problems/minimum-increment-to-make-array-unique/)

![image-20231127143450252](./assets/image-20231127143450252-1733840243519-184-1735358080551-58-1736827600812-3.png)





å°†æ•°ç»„æ’åºåï¼Œä¿è¯å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å”¯ä¸€çš„å³å¯

```python
class Solution:
    def minIncrementForUnique(self, nums: List[int]) -> int:
        nums.sort()
        ans=0
        for i in range(1,len(nums)):
            if  nums[i]<=nums[i-1]:
                ans+=nums[i-1]-nums[i]+1
                nums[i]=nums[i-1]+1
                
        return ans
```



### [å‡å°å’Œé‡æ–°æ’åˆ—æ•°ç»„åçš„æœ€å¤§å…ƒç´ ](https://leetcode.cn/problems/maximum-element-after-decreasing-and-rearranging/)	

![image-20231129140559683](./assets/image-20231129140559683-1733840243519-185-1735358080551-59-1736827600812-4.png)

æ’åºåŠ è´ªå¿ƒ

```python
class Solution(object):
    def maximumElementAfterDecrementingAndRearranging(self, arr):
        n=len(arr)
        arr.sort()
        arr[0]=1
        for i in range(1,n):
            # å…ƒç´ å€¼ä¸èƒ½è¶…è¿‡è‡ªèº«ï¼Œå› ä¸ºæ“ä½œé‡Œæ²¡æœ‰é€’å¢
            arr[i]=min(arr[i],arr[i-1]+1)
        return arr[-1]
```

### [å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²](https://leetcode.cn/problems/smallest-string-with-a-given-numeric-value/)

![image-20231201205832887](./assets/image-20231201205832887-1733840243519-186-1735358080551-60-1736827600813-7.png)



è´ªå¿ƒçš„æ€æƒ³ï¼Œå¯¹äºæ¯ä¸ªä½ç½®ï¼Œä¸ºäº†ä¿è¯å­—å…¸åºå°ï¼Œå‰é¢çš„ä½ç½®åº”è¯¥å°½å¯èƒ½å°çš„é€‰å–å€¼ï¼Œè€Œè¿™ä¸ªä½ç½®é€‰å–'a'çš„æ¡ä»¶æ˜¯åé¢çš„ä½ç½®å¯ä»¥æ»¡è¶³å…¨å–zè€Œæ€»å’Œå¤§äºk-1,å¦‚æœè¿™ä¸ªä½ç½®ä¸èƒ½å–aï¼Œé‚£ä¹Ÿåº”è¯¥å°½å¯èƒ½åœ°å°ï¼Œå³å–åˆ°k-26*nä¹Ÿå°±æ˜¯åé¢çš„ä½ç½®éƒ½å–zï¼Œè¿™ä¸ªä½ç½®æ‰èƒ½ä¿è¯å–åˆ°æ»¡è¶³å’Œä¸ºkçš„æœ€å°å­—ç¬¦ã€‚

```python
class Solution:
    def getSmallestString(self, n: int, k: int) -> str:
        ans=[]
        def tran(n):
            return chr(n+ord('a')-1)
        for i in range(1,n+1):
            val =max(1,k-26*(n-i))
            k-=val
            ans.append(tran(val))
        return "".join(ans)
```

### [ç ´åå›æ–‡ä¸²](https://leetcode.cn/problems/break-a-palindrome/)



![image-20231205142513039](./assets/image-20231205142513039-1733840243519-187-1735358080551-61-1736827600812-5.png)

å›æ–‡ä¸²åªéœ€è€ƒè™‘å‰ä¸€åŠå³å¯ï¼Œå¯¹äºä¸­é—´çš„å€¼ä¸å–ï¼Œæ¯”å¦‚abaæ”¹ä¸­é—´çš„å€¼æ²¡ç”¨ã€‚

æŒ‰ç…§è´ªå¿ƒçš„æ€è·¯ï¼Œå¿…ç„¶è¦æŠŠç¬¬ä¸€ä¸ªä¸æ˜¯açš„æ”¹ä¸ºa,ä¸€æ—¦æ”¹å˜é‚£ä¹ˆå°±ä¸æ˜¯å›æ–‡ä¸²äº†å¯ä»¥ç›´æ¥è¿”å›ï¼Œä¸ç„¶çš„è¯å°±è¯´æ˜å­—ç¬¦ä¸²ä¸­å…¨æ˜¯a,å°†æœ€åä¸€ä¸ªå­—ç¬¦æ”¹ä¸ºbå³å¯

```python
class Solution:
    def breakPalindrome(self, p: str) -> str:
        if len(p)==1:
            return ""
        p=list(p)
        n=len(p)//2
        for i in range(n):
            c=p[i]
            if c!='a':
                p[i]='a'
                return "".join(p)
        p[-1]='b'
        return "".join(p)
```

### [è¿æ¥æ£’æçš„æœ€ä½è´¹ç”¨](https://leetcode.cn/problems/minimum-cost-to-connect-sticks/)

![image-20240319115527112](./assets/image-20240319115527112-1733840243519-188-1735358080551-62-1736827600813-6.png)

ä¸ºäº†ä¿è¯æˆæœ¬æœ€å°‘ï¼Œæ¯æ¬¡åªè¿æ¥æœ€å°çš„ä¸¤ä¸ªï¼Œä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å¿«é€Ÿæ‰¾å‡ºæœ€å°çš„ä¸¤ä¸ª



```python
import heapq
class Solution:
    def connectSticks(self, sticks: List[int]) -> int:
        heapq.heapify(sticks)
        ans=0
        while len(sticks)>1:
            a=heapq.heappop(sticks)
            b=heapq.heappop(sticks)
            val=a+b
            heapq.heappush(sticks,val)
            ans+=val
        return ans 
```

### [ç§»é™¤çŸ³å­çš„æœ€å¤§å¾—åˆ†](https://leetcode.cn/problems/maximum-score-from-removing-stones/)

<img src="./assets/image-20231208120016234-1733840243519-190-1735358080551-63-1736827600813-8.png" alt="image-20231208120016234" style="zoom:50%;" />

æ•°å­¦çš„åšæ³•æ˜¯:
<img src="./assets/image-20231208120037145-1733840243519-189-1735358080551-64-1736827600813-9.png" alt="image-20231208120037145" style="zoom:50%;" />



è´ªå¿ƒçš„åšæ³•æ˜¯æ¯æ¬¡ä»æœ€å¤§çš„ä¸¤ä¸ªå †ä¸­å–

```python
class Solution:
    def maximumScore(self, a: int, b: int, c: int) -> int:
        s=sorted([a,b,c])
        ans=0
        while s[1]:
            s[1]-=1
            s[2]-=1
            s.sort()
            ans+=1
        return ans
```

### [K æ¬¡å¢åŠ åçš„æœ€å¤§ä¹˜ç§¯](https://leetcode.cn/problems/maximum-product-after-k-increments/)

![image-20240206124132424](./assets/image-20240206124132424-1733840243519-191-1735358080551-65-1736827600813-10.png)

ä¸ºäº†è®©ç»“æœæ›´å¤§æ¯æ¬¡å¢åŠ å°çš„å…ƒç´ ï¼Œä½¿ç”¨æ ¹å †æ¥æ‰¾å‡ºæ•°ç»„ä¸­æœ€å°çš„å…ƒç´ 



```python
class Solution:
    def maximumProduct(self, nums: List[int], k: int) -> int:
        m=10**9+7
        heapify(nums)
        index=0
        target=nums[-1]
        while k:
            val=heappop(nums)
            heappush(nums,val+1)
            k-=1
        val=1
        for i in nums:
            val*=i
            val%=m
        return val
```



### [ åƒæ‰ N ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•°](https://leetcode.cn/problems/minimum-number-of-days-to-eat-n-oranges/)

![image-20240629110546171](./assets/image-20240629110546171-1730904745051-6-1733840243519-192-1735358080551-66-1736827600813-11.png)



![image-20240629110551674](./assets/image-20240629110551674-1730904745051-7-1733840243519-193-1735358080551-67-1736827600813-12.png)



ä¸€å®šæ˜¯åšé™¤æ³•æ›´å¥½ï¼Œåœ¨æœ€ä¼˜çš„æ“ä½œä¸‹ï¼Œå¦‚æœèƒ½æ•´é™¤2åˆ™ä¸å­˜åœ¨-1-1å†é™¤2ï¼Œå› ä¸ºå¤§å°ä¸Šm-1-1/2=m/2-1ï¼Œä½†æ˜¯æ“ä½œæ¬¡æ•°ä¸Šåè€…ä¼šæ›´å°‘ï¼ŒåŒç†å¦‚æœèƒ½æ•´é™¤3åˆ™ä¸ä¼š-1-1-1å†é™¤3ã€‚



```python
class Solution:
    def minDays(self, n: int) -> int:
        @cache
        def dp(i):
            if i<=1:return 1
        	# ä¸€ç›´åšé™¤æ³•
            return min(dp(i//2)+i%2,dp(i//3)+i%3)+1
        return dp(n)
```









### [æ‹†åˆ†æˆæœ€å¤šæ•°ç›®çš„æ­£å¶æ•°ä¹‹å’Œ](https://leetcode.cn/problems/maximum-split-of-positive-even-integers/)

<img src="./assets/image-20231220151242837-1733840243519-194-1735358080551-68-1736827600813-13.png" alt="image-20231220151242837" style="zoom:50%;" />

è´ªå¿ƒçš„æ€æƒ³ï¼Œè¦å°½å¯èƒ½å¤šçš„æ•°å­—åˆä¸èƒ½é‡å¤ï¼Œå› æ­¤ä»æœ€å°çš„2å¼€å§‹åˆ†ï¼Œæ¯æ¬¡é€’å¢2ï¼Œæœ€åå¦‚æœæœ‰ä½™æ•°åŠ åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸Šã€‚

```python
class Solution:
    def maximumEvenSplit(self, finalSum: int) -> List[int]:
        # åˆ¤æ–­å¥‡å¶ï¼Œå¶æ•°ä¹‹å’Œåªèƒ½æ˜¯å¶æ•°
        if finalSum&1:
            return []
        ans=[]
        index=2
        while index<=finalSum:
            ans.append(index)
            finalSum-=index
            index+=2
        ans[-1]+=finalSum
        return ans
```

### [ä½¿æ•°ç»„æˆä¸ºç­‰æ•°æ•°ç»„çš„æœ€å°ä»£ä»·](https://leetcode.cn/problems/minimum-cost-to-make-array-equalindromic/)

<img src="./assets/image-20231222204522275-1733840243519-195-1735358080551-69-1736827600813-14.png" alt="image-20231222204522275" style="zoom:50%;" />

<img src="./assets/image-20231222204529684-1733840243519-196-1735358080551-70-1736827600813-16.png" alt="image-20231222204529684" style="zoom:50%;" />

æƒ³è¦æ‰¾åˆ°æ‰€æœ‰çš„æ•°åˆ°ä¸€ä¸ªæ•°çš„ä»£ä»·æœ€å°ï¼Œè¿™ä¸ªæ•°ä¸èƒ½æ˜¯å¹³å‡æ•°è€Œæ˜¯`ä¸­ä½æ•°`(æŠ€å·§ç‚¹)ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œä»1åˆ°nï¼Œ`å½“é€‰å–å¾—æ•°åœ¨è¿™ä¸ªèŒƒå›´ä¹‹é—´çš„æ—¶å€™ï¼Œå¾€å³ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œè·ç¦»å·¦è¾¹çš„æ•°è¶Šè¿œè·ç¦»ï¼ˆè·ç¦»åŠ ä¸Šå·¦è¾¹çš„æ•°ç›®ä¹˜ä¸Šä¸€ï¼‰ï¼Œå³è¾¹çš„æ•°è¶Šè¿‘ï¼ˆè·ç¦»å‡ä¸Šå³è¾¹çš„æ•°ç›®ä¹˜ä¸€ï¼‰ï¼Œç”±æ­¤è·ç¦»ä¸æ–­å‡å°ï¼Œå½“è¾¾åˆ°ä¸­é—´ä½ç½®çš„æ—¶å€™è·ç¦»æœ€å°`ã€‚

é¢˜ç›®ä¸­è¦æ±‚æ‰¾çš„æ•°æ˜¯å›æ–‡æ•°ï¼Œæ•°æ®èŒƒå›´åœ¨10^9ä¹‹å†…ï¼Œ`æ‰“è¡¨è®¡ç®—(æŠ€å·§ç‚¹ï¼Œæ„é€ å›æ–‡è¡¨)`, 10^9è¿™ä¸ªèŒƒå›´çš„å›æ–‡æ•°å¯ä»¥é€šè¿‡é€’å½’å·¦è¾¹çš„æ•°æ±‚å‡ºï¼Œæ¯”å¦‚11å¥‡æ•°åè½¬ä¸º111ï¼Œå¶æ•°åè½¬ä¸º1111ï¼Œ æšä¸¾10^5-1,å³99999åè½¬ï¼Œå…ˆå¥‡æ•°åè½¬å†å¶æ•°åè½¬ï¼Œä¿è¯æ•°æ®çš„é¡ºåºæ€§ã€‚

```python
from bisect import bisect_left as bf
# æ‰“è¡¨ï¼Œæ‰¾å‡ºå›æ–‡è¡¨
li=[]
base=1
while base<=10000:
    for i in range(base ,base*10):
        temp=i
        # å¥‡æ•°åè½¬å…ˆå»æ‰æœ€ä½ä½
        i//=10
        # ä¸æ–­åŠ ä¸ªä½
        while i:
            temp=temp*10+i%10
            i//=10
        li.append(temp)
    
    # å¶æ•°åè½¬ä¸éœ€è¦å»æ‰æœ€ä½ä½
    for i in range(base,base*10):
        temp=i
        while i:
            temp=temp*10+i%10
            i//=10
        li.append(temp)
    base*=10
    
class Solution:
    def minimumCost(self, nums: List[int]) -> int:
        n=len(nums)
        # è®°å¾—æ’åº
        nums.sort()
        def f(x):
            return sum([abs(i-x) for i in nums])
        # ç”¨äºŒåˆ†æ³•æ‰¾è·ç¦»ä¸­ä½æ•°æœ€è¿‘çš„å›æ–‡æ•°ã€‚å¶æ•°æœ‰ä¸¤ä¸ªä¸­ä½æ•°ï¼Œè¿™ä¸¤ä¸ªä¸­ä½æ•°ä¹‹é—´ï¼ˆåŒ…æ‹¬æœ¬èº«ï¼‰åˆ°å…¶ä»–æ•°çš„è·ç¦»éƒ½å±ä¸€æ ·çš„ï¼Œéšæ„å–
        i=bf(li,nums[(n-1)//2])
	# å¦‚æœä¸­ä½æ•°å°±æ˜¯å›æ–‡æ•°ï¼Œç›´æ¥è®¡ç®—
        if li[i]==nums[n//2]:
            return f(li[i])
        # å¦‚æœä¸æ˜¯çš„è¯ï¼Œå°±æ‰¾å‡ºliä¸­ä½æ•°é™„è¿‘çš„ä¸¤ä¸ªå›æ–‡æ•°ï¼Œæ±‚å‡ºæœ€å°çš„
        return min(f(li[i-1]),f(li[i]))
```



### [ä½¿æ•°ç»„ç›¸ç­‰çš„æœ€å°å¼€é”€](https://leetcode.cn/problems/minimum-cost-to-make-array-equal/)

![image-20231227152210019](./assets/image-20231227152210019-1733840243519-197-1735358080551-71-1736827600813-15.png)



è¿ç”¨ä¸­ä½æ•°è´ªå¿ƒçš„æ€æƒ³ï¼ŒæŠŠå…ƒç´ è½¬æ¢ä¸ºä»–ä»¬çš„ä¸­ä½æ•°å¯ä»¥å¾—åˆ°æœ€å°çš„æ“ä½œæ•°ï¼Œç„¶è€Œè¿™é“é¢˜ç›®ä¸­ï¼Œç»™å®šäº†æ¯ä¸ªå…ƒç´ è½¬æ¢çš„å¼€é”€ï¼ŒåŸå…ˆçš„æœ€å°æ“ä½œæ•°è®¤ä¸ºå¼€é”€ä¸º1ï¼Œè¿™é‡Œè½¬æ¢æ€è·¯ï¼Œ`æŠŠcost[i]è§†ä¸ºæœ‰cost[i]ä¸ªnums[i]`ï¼Œè¿™æ ·æ¯æ¬¡æ“ä½œçš„å¼€é”€æ»¡è¶³æ¡ä»¶åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸­ä½æ•°è´ªå¿ƒã€‚

```python
class Solution:
    def minCost(self, nums: List[int], cost: List[int]) -> int:
        a=sorted(zip(nums,cost))
        mid=sum(cost)//2
        s=0
        for x,c in a:
            s+=c
            if s>mid:
                return sum([abs(v-x)*time for v,time in zip(nums,cost)])    
```





































### æ ‘ä¸Šè´ªå¿ƒ

![image-20231224223017507](./assets/image-20231224223017507-1733840243519-198-1735358080551-73-1736827600813-17.png)![image-20231224223031365](./assets/image-20231224223031365-1733840243519-199-1735358080551-72-1736827600813-18.png)



å³åœ¨ä¸€æ£µæ ‘ä¸Šæ‰¾å‡ºä¸æ˜¯ç›´æ¥æ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ã€‚

å¦‚æœä¸€é¢—æ ‘çš„æ ¹èŠ‚ç‚¹çš„ä¸€ä¸ªå­æ ‘ï¼ˆèŠ‚ç‚¹æ•°ç›®æœ€å¤šï¼‰çš„èŠ‚ç‚¹æ•°ç›®æ²¡æœ‰è¶…è¿‡è¿™ä¸ªæ ¹èŠ‚ç‚¹çš„ä¸€åŠï¼Œé‚£ä¹ˆè¿™ä¸ªæ ¹èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¯ä»¥æ‰¾åˆ°å¦ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„èŠ‚ç‚¹ï¼Œæ»¡è¶³çš„èŠ‚ç‚¹å¯¹æ˜¯æ ¹èŠ‚ç‚¹æ•°ç›®çš„ä¸€åŠã€‚

åä¹‹ï¼Œå¯ä»¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹ä¸è¿™ä¸ªè¿™ä¸ªå­æ ‘çš„æ ¹èŠ‚ç‚¹é…å¯¹ï¼Œå°±è¿™æ ·ä¸€ç›´é€’å½’ä¸‹å»ã€‚

```python
t=int(input())

def slove():
    n=int(input())
    li=list(map(int,input().split()))
    # å‚¨å­˜æ¯ä¸ªèŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°ç›®ï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰
    v=[0]*n
    g=[[]for _ in range(n)]
    # å»ºå›¾ï¼Œåšä¸€ä½ç´¢å¼•åç§»
    for i,val in enumerate(li):
        g[val-1].append(i+1)
     # æ‰¾å‡ºæ‰€æœ‰ç»“ç‚¹çš„å­æ ‘æ•°ç›®
    def init(x):
        # è‡ªå·±ç®—ä¸Š
        v[x]=1
        # æ‰¾ä»–çš„å­æ ‘
        for j in g[x]:
            # å¯¹ä»–çš„å­æ ‘æ“ä½œ
            init(j)
            # è¯¥èŠ‚ç‚¹çš„èŠ‚ç‚¹æ•°ç›®ä¸€ä¸ªåŠ ä¸Šå­æ ‘çš„èŠ‚ç‚¹æ•°ç›®
            v[x]+=v[j]
            # åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæŠŠæ¯ä¸ªèŠ‚ç‚¹å¯¹åº”çš„æœ€é•¿çš„å­æ ‘æ”¾åˆ°ç¬¬ä¸€ä½ï¼Œæ–¹ä¾¿æ“ä½œ
            if v[j]>v[g[x][0]]:
                index=g[x].index(j)
                g[x][0],g[x][index]=g[x][index],g[x][0]
    init(0)
    # xæ˜¯å½“å‰èŠ‚ç‚¹ï¼Œotheræ˜¯è¿­ä»£ä¹‹å‰å…¶ä»–èŠ‚ç‚¹ä¹‹å’Œ
    other=ans=x=0
    # ä¸æ–­è¿­ä»£
    while True:
        # å¦‚æœotheræœ‰å€¼ä»£è¡¨æƒ…å†µäºŒï¼Œåœ¨å…¶ä»–çš„èŠ‚ç‚¹ä¸­é€‰ä¸€ä¸ªå‡ºæ¥ä¸æœ€é•¿çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹åŒ¹é…
        if other:
            ans+=1
            other-=1
            
        if not g[x]:
            break
        # æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„æœ€é•¿çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹
        y=g[x][0]
        # æ‰¾åˆ°å®ƒçš„å€¼
        val=v[y]
        # sæ˜¯å½“å‰èŠ‚ç‚¹çš„æ€»çš„èŠ‚ç‚¹æ•°ç›®ï¼ˆåŒ…æ‹¬è‡ªå·±å› æ­¤è¦å‡å»ï¼Œå› ä¸ºæ ¹èŠ‚ç‚¹åœ¨ä¸Šä¸€å±‚è¿­ä»£ä¸­è¿›è¡Œè¿‡äº†ï¼‰ï¼Œå¼€å§‹æ—¶å½“å‰èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹
        s=v[x]-1
        # å¦‚æœå°äºç­‰äºä¸€åŠï¼Œç›´æ¥å¾—å‡ºç»“æœ
        if 2*val<=s+other:
            ans+=(s+other)//2
            break
        # åä¹‹ï¼Œè¿›è¡Œæƒ…å†µäºŒï¼Œotherè®°å½•é™¤äº†æœ€é•¿çš„å­æ ‘ä»¥å¤–çš„èŠ‚ç‚¹
        other+=s-val
        # ä¸‹ä¸€è½®ä»è¿™ä¸ªèŠ‚ç‚¹å¼€å§‹æ‰¾ï¼Œå› ä¸ºè¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„å€¼ä¸­æœ€å¤§çš„åŸºæœ¬ä¸Šæ˜¯æ‰€æœ‰èŠ‚ç‚¹ä¸­æœ€å¤§çš„
        x=y
    print(ans)

while t:
    slove()
    t-=1

```

###  Memory for Arrays

![image-20240126211345111](./assets/image-20240126211345111-1733840243519-200-1735358080551-78-1736827600813-19.png)

é—®é¢˜å¯ä»¥æŠ½è±¡ä¸ºèƒŒåŒ…é—®é¢˜ï¼Œæ¯æ¬¡æ‹¿èµ°ä¸€éƒ¨åˆ†è¦æ±‚æ‹¿èµ°æœ€å¤šçš„ç‰©å“ï¼ŒæŒ‰ç…§è´ªå¿ƒçš„æ€è·¯æ¯æ¬¡æ‹¿æœ€å°‘çš„å¯ä»¥ä½¿ä¸€ä¸ªèƒŒåŒ…ç©ºä½™çš„ç©ºé—´æœ€å¤šï¼Œå› æ­¤æŠŠbæ•°ç»„æ’åºæ±‚è§£é—®é¢˜ã€‚ä½†æ˜¯å¯¹äºbä¸­çš„1ï¼Œå¦‚æœç”¨å¶æ•°è§£å†³å®ƒï¼Œå¶æ•°ä¼šå˜æˆå¥‡æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šä½™ä¸‹ä¸€ä¸ª1ï¼ˆæ•°ç»„ä¸­é™¤äº†1å°±æ˜¯å¶æ•°ï¼‰ï¼Œä»è€Œé€ æˆæµªè´¹ï¼Œå› æ­¤åº”è¯¥æŠŠ1éƒ½ç»™å¥‡æ•°è§£å†³ã€‚

```python
n,m=[int(x) for x in input().split()]
a=sorted([int(x) for x in input().split()])
b=sorted([int(x) for x in input().split()])
j=ans=0
for i in range(n):
    if j>=m or b[j]:
        break
    if a[i]&1:
        a[i]-=1
        j+=1
        ans+=1
i=0
while i<n and j<m:
    v=2**b[j]
    if v<=a[i]:
        a[i]-=v
        j+=1
        ans+=1
    else:
        i+=1
print(ans)
```

### [è€é¼ å’Œå¥¶é…ª](https://leetcode.cn/problems/mice-and-cheese/)	

![image-20240130120313747](./assets/image-20240130120313747-1733840243519-201-1735358080551-74-1736827600813-20.png)



ä¸¤ä¸ªå˜é‡çš„é—®é¢˜é€‰æ‹©å›ºå®šå…¶ä¸­ä¸€ä¸ªå»æ‰¾å¦ä¸€ä¸ªï¼Œè€ƒè™‘å¦‚æœkæ˜¯1çš„æƒ…å†µï¼Œé‚£ä¹ˆæŠŠæ‰€æœ‰çš„å¥¶é…ªåˆ°ç»™è€é¼ äºŒï¼Œé€‰æ‹©ä¸€ä¸ªiç»™è€é¼ 1æœ€åçš„å¾—åˆ†å¢åŠ äº†r1[i]-r2[i]ï¼Œä¸ºäº†ä½¿ç»“æœæœ€å¤§åº”è¯¥è®©è¿™ä¸ªå€¼å°½å¯èƒ½å¤§ã€‚k>1çš„æƒ…å†µå°±æ˜¯è¦ç»™è€é¼ 1kä¸ªr1[i]-r2[i]ä¸€ä¸ªé€‰å‡ºæœ€å¤§çš„è¿™æ ·çš„å€¼ï¼Œå› æ­¤æŠŠä¸¤ä¸ªæ•°ç»„çš„å·®å€¼ç›¸å‡åæ’ä¸ªåºï¼Œä»ä¸­é€‰å–kä¸ªã€‚

```python
class Solution:
    def miceAndCheese(self, reward1: List[int], reward2: List[int], k: int) -> int:
        r=sorted([r1 -r2 for r1,r2 in zip(reward1,reward2)],reverse=True)
        return sum(reward2)+sum(r[:k])
```



![image-20240130121310216](./assets/image-20240130121310216-1733840243520-202-1735358080551-75-1736827600813-21.png)

```python
class Solution:
    def twoCitySchedCost(self, costs: List[List[int]]) -> int:
        n=len(costs)//2
        ans=sum([x[1] for x in costs])
        nums=sorted([x[0]-x[1] for x in costs])
        return ans+sum(nums[:n])
```



### [å°†æ•°ç»„åˆ†æˆå‡ ä¸ªé€’å¢åºåˆ—](https://leetcode.cn/problems/divide-array-into-increasing-sequences/)

![image-20240131093735047](./assets/image-20240131093735047-1733840243520-203-1735358080551-76-1736827600813-22.png)

è´ªå¿ƒçš„åšæ³•ï¼Œç”±äºè¦æ±‚åºåˆ—ä¸èƒ½å‡ºç°ç›¸åŒçš„å€¼ï¼Œå› æ­¤å¿…é¡»è‡³å°‘è¦åˆ†æ•°ç»„ä¸­å‡ºç°é¢‘ç‡æœ€å¤§çš„å…ƒç´ ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—è‡³å°‘é•¿kï¼Œåˆ™æœ€ç»ˆè¦æ±‚æ•°ç»„ä¸­è‡³å°‘æœ‰freq*kä¸ªå…ƒç´ ã€‚

```python
class Solution:
    def canDivideIntoSubsequences(self, nums: List[int], k: int) -> bool:
        memo=Counter(nums)
        val=max(memo.values())
        return len(nums)>=val*k
```

### [åˆ é™¤æ•°å¯¹åçš„æœ€å°æ•°ç»„é•¿åº¦](https://leetcode.cn/problems/minimum-array-length-after-pair-removals/)

![image-20240304115141942](./assets/image-20240304115141942-1733840243520-204-1735358080551-77-1736827600813-23.png)

![image-20240304115338301](./assets/image-20240304115338301-1733840243520-205-1735358080551-79-1736827600813-24.png)

é¸½å·¢åŸç†

```python
class Solution:
    def minLengthAfterRemovals(self, nums: List[int]) -> int:
        memo=Counter(nums)
        cnt=max(memo.values())
        n=len(nums)
        if cnt*2>n:
            return 2*cnt-n
        else:
            l=n-cnt
            if (l-cnt)&1:
                return 1
            return 0
```



### [ä½¿æ‰€æœ‰å­—ç¬¦ç›¸ç­‰çš„æœ€å°æˆæœ¬](https://leetcode.cn/problems/minimum-cost-to-make-all-characters-equal/)

![image-20240319102353279](./assets/image-20240319102353279-1733840243520-206-1735358080551-80-1736827600813-25.png)

<img src="./assets/image-20240319102406448-1733840243520-207-1735358080552-82-1736827600813-26.png" alt="image-20240319102406448" style="zoom:33%;" />



å¯¹äºä¸€ç»„ä¸²ï¼Œå…¶ä¸­ä¸ç­‰çš„éƒ½æ˜¯01ç»„æˆçš„ï¼Œè€Œå¯¹äºæ‰€æœ‰çš„01æ¯æ¬¡ç¿»è½¬å·¦è¾¹æˆ–è€…å³è¾¹éƒ½åªèƒ½æ›´æ”¹ä¸€å¯¹01ä¸²ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“å·²ç»ç›¸ç­‰çš„å­—ç¬¦ï¼ˆä¸ç›¸ç­‰çš„è¿˜æ˜¯ä¸ç›¸ç­‰ï¼‰ï¼Œå› æ­¤ä¸€æ—¦é‡åˆ°ä¸ç­‰çš„å­—ç¬¦å°±ä¼šç¿»è½¬

```python
class Solution:
    def minimumCost(self, s: str) -> int:
        n=len(s)
        ans=0
        for i in range(n-1):
            if s[i]!=s[i+1]:
                # æ¯æ¬¡æ‰¾ç¿»è½¬ä»£ä»·æœ€å°çš„
                ans+=min(i+1,n-i-1)
        return ans 
```



### [æœ€é•¿å¿«ä¹å­—ç¬¦ä¸²](https://leetcode.cn/problems/longest-happy-string/)



![image-20240327100208356](./assets/image-20240327100208356-1733840243520-208-1735358080552-81-1736827600813-27.png)

å®¹æ˜“æƒ³åˆ°çš„æ˜¯ä¸¤ä¸ªç›¸åŒçš„ä¸€ç»„ä¸­é—´ç”¨å…¶ä»–çš„å­—ç¬¦éš”å¼€ä½†æ˜¯è¿™æ ·å¾ˆéš¾å®ç°ï¼Œè´ªå¿ƒçš„æ€æƒ³æ¯æ¬¡å–å‰©ä½™çš„æœ€å¤šçš„å­—ç¬¦ï¼Œå¦‚æœå’Œå‰é¢ä¸¤ä¸ªä¸€æ ·å°±å–æ¬¡å¤šçš„ï¼Œå¦‚æœæ¬¡å¤šçš„ä¸å­˜åœ¨å°±é€€å‡ºã€‚

```python
class Solution:
    def longestDiverseString(self, a: int, b: int, c: int) -> str:
        nums=[]
        # æ²¡æœ‰å°±ä¸ç”¨åŠ å…¥
        if a:heappush(nums,(-a,'a'))
        if b:heappush(nums,(-b,'b'))
        if c:heappush(nums,(-c,'c'))
        s=''
        while nums:
            # å¼¹å‡ºå‰©ä½™æœ€å¤šçš„
            cnt,c =heappop(nums)
            cnt=-cnt
            # å¦‚æœä¸æ»¡è¶³æ¡ä»¶å°±é€‰æ‹©æ¬¡å¤šçš„
            if (len(s)>=2 and s[-2:]==2*c):
                if not nums:break
                cnt_,c_ =heappop(nums)
                cnt_=-cnt_
                s+=c_
                cnt_-=1
                # å¦‚æœæ²¡æœ‰å€¼äº†å°±ä¸è¦åŠ å…¥
                if cnt_:heappush(nums,(-cnt_,c_))
            else:
                s+=c
                cnt-=1
            if cnt:heappush(nums,(-cnt,c))
        return s
```

### [å°äºç­‰äº K çš„æœ€é•¿äºŒè¿›åˆ¶å­åºåˆ—](https://leetcode.cn/problems/longest-binary-subsequence-less-than-or-equal-to-k/)

![image-20240403083903897](./assets/image-20240403083903897-1733840243520-209-1735358080552-83-1736827600813-28.png)



å¯¹äºè¦æ‰¾çš„å­åºåˆ—å‰é¢çš„å‰å¯¼0è¶Šå¤šè¶Šå¥½ï¼Œåº”è¯¥åœ¨sé åçš„ä½ç½®æ‰¾ä¸€ä¸ªä¸å¤§äºkçš„å­åºåˆ—è¿™æ ·å°±å¯ä»¥åŠ æ›´å¤šçš„0ï¼Œæ‰¾sä¸­ä¸è¶…è¿‡Kçš„æœ€é•¿åç¼€ï¼Œå¦‚æœä¸èƒ½å¾€è¿™ä¸ªåç¼€ä¸­åœ¨æ·»åŠ 1é‚£ä¹ˆè¯´æ˜å°±åªèƒ½æ·»åŠ 0.

â€‹	

```python
class Solution:
    def longestSubsequence(self, s: str, k: int) -> int:
        n,m=len(s),k.bit_length()
        if n<m:return n
        ans=m if int(s[-m:],2)<=k else m-1
        return ans+s[:-m].count('0')
        
```

### [é€šè¿‡æœ€å°‘æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„çš„å’Œç›¸ç­‰](https://leetcode.cn/problems/equal-sum-arrays-with-minimum-number-of-operations/)



![image-20240405113608307](./assets/image-20240405113608307-1733840243520-210-1735358080552-84-1736827600813-29.png)

è€ƒè™‘æ€»å’Œä¸ºäº†ä½¿å¾—æ“ä½œæ¬¡æ•°æœ€å°‘ï¼Œåº”è¯¥æ¯ä¸€æ¬¡èƒ½ä½¿å·®å€¼å‡å°‘æœ€å¤§ã€‚å¯¹äºæ€»å’Œè¾ƒå¤§çš„æ•°ç»„æ¯ä¸ªå…ƒç´ æœ€å°å˜ä¸º1ï¼Œå·®å€¼æœ€å¤šå‡å°nums[i]-1ã€‚å¯¹äºæ€»å’Œè¾ƒå°çš„æ•°ç»„æ¯ä¸ªå…ƒç´ æœ€å¤§å˜ä¸º6ï¼Œå·®å€¼æœ€å¤šå‡å°6-nums[i]ï¼Œç»Ÿè®¡è¿™äº›å˜åŒ–é‡çš„ä¸ªæ•°ã€‚

```python
class Solution:
    def minOperations(self, nums1: List[int], nums2: List[int]) -> int:
        n1,n2=len(nums1),len(nums2)
        # ç‰¹åˆ¤
        if max(n1,n2)>min(n1,n2)*6:return -1
        # äº¤æ¢ï¼Œæ–¹ä¾¿æ“ä½œ
        t1,t2=sum(nums1),sum(nums2)
        if t1==t2:return 0
        if t1>t2:
            nums1,nums2=nums2,nums1
        # å·®å€¼
        d=abs(t1-t2)
        memo=[0]*6
        # è®°å½•å˜åŒ–é‡
        for a in nums1:
            memo[6-a]+=1
        for b in nums2:
            memo[b-1]+=1
        
        ans=0
        # ä»å¤§åˆ°å°æšä¸¾
        for i in range(5,0,-1):
            # å¦‚æœèƒ½ç›´æ¥æ¶ˆé™¤å·®å€¼ï¼Œé‚£ä¹ˆå‘ä¸Šå–æ•´
            if i*memo[i]>=d:
                return ans+ceil(d/i)
            # åä¹‹ï¼Œç´¯å‡
            d-=i*memo[i]
            ans+=memo[i]

        return ans 
```

### [æ— é‡å åŒºé—´](https://leetcode.cn/problems/non-overlapping-intervals/)

![image-20240406105348192](./assets/image-20240406105348192-1733840243520-211-1735358080552-85-1736827600813-30.png)



è€ƒè™‘é—®é¢˜ï¼šä»Šå¤©æœ‰å¥½å‡ ä¸ªæ´»åŠ¨ï¼Œæ¯ä¸ªæ´»åŠ¨æœ‰ç›¸åº”çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ï¼ŒåŒä¸€æ—¶é—´æ®µåªèƒ½å‚åŠ ä¸€ä¸ªæ´»åŠ¨ï¼Œé—®ä¸€å¤©æœ€å¤šèƒ½å‚åŠ å¤šå°‘ä¸ªæ´»åŠ¨ã€‚è´ªå¿ƒçš„æ€è€ƒå°±æ˜¯è¦å‚åŠ ç»“æŸæ—¶é—´æœ€æ—©çš„æ´»åŠ¨ä½¿å¾—æœ‰æ›´å¤šçš„ç©ºä½™æ—¶é—´å»å‚åŠ åˆ«çš„æ´»åŠ¨ï¼ŒåŒæ—¶å¯¹äºç»“æŸæ—¶é—´ç›¸åŒçš„æ´»åŠ¨é€‰æ‹©å¼€å§‹æ—¶é—´æ™šçš„ç•™å‡ºæ›´å¤šçš„æ—¶é—´ã€‚å°†æ•°ç»„æ’åºåä¾æ¬¡éå†ï¼Œå¯¹äºä¸èƒ½æ»¡è¶³çš„æ´»åŠ¨å°±æ’é™¤ã€‚



```python
class Solution:
    def eraseOverlapIntervals(self, intervals: List[List[int]]) -> int:
        # æ’åº
        intervals.sort(key=lambda x:(x[1],x[0]))
        r=intervals[0][1]
        cnt=1
        for i in range(1,len(intervals)):
            # å¯é€‰
            if intervals[i][0]>=r:
                cnt+=1
                r=intervals[i][1]
        return len(intervals)-cnt
```



### [æ’å¸ƒäºŒè¿›åˆ¶ç½‘æ ¼çš„æœ€å°‘äº¤æ¢æ¬¡æ•°](https://leetcode.cn/problems/minimum-swaps-to-arrange-a-binary-grid/)

![image-20240423115056349](./assets/image-20240423115056349-1733840243520-212-1735358080552-86-1736827600813-31.png)

![image-20240423115102647](./assets/image-20240423115102647-1733840243520-213-1735358080552-87-1736827600813-32.png)





æœ€å°‘çš„äº¤æ¢æ¬¡æ•°æŒ‰è´ªå¿ƒçš„åšæ³•ï¼Œä¸€å®šæ˜¯æŠŠåœ¨è¿™ä¸ªä½ç½®ä¹‹ä¸‹çš„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ”¾ä¸Šæ¥ï¼Œå¯¹äºç»™å®šçš„æ•°æ®å¯ä»¥æ¨¡æ‹Ÿæš´åŠ›æ“ä½œã€‚

```python
class Solution:
    def minSwaps(self, grid: List[List[int]]) -> int:
        nums=[]
        vis=set()
        ans=i=temp=0
        n=len(grid)
        # ç»Ÿè®¡å³è¾¹1çš„ä¸ªæ•°
        for g in grid:
            cnt=0
            for c in g[::-1]:
                if c==0:cnt+=1
                else:break
            nums.append(cnt)
        # ä»ä¸Šå¾€ä¸‹æ‰¾
        while i<n:
            v=n-i-1
            j=i
            while j<n and nums[j]<v:j+=1
            if j==n:return -1
	
    	# æ¨¡æ‹Ÿäº¤æ¢é¡ºä¾¿è®°å½•æ¬¡æ•°
            while j>i:
                nums[j],nums[j-1]=nums[j-1],nums[j]
                ans+=1
                j-=1
            i+=1

        return ans 
```



























































### Blue-Red Permutation



![image-20240409214951809](./assets/image-20240409214951809-1733840243520-214-1735358080552-88-1736827600813-33.png)

è´ªå¿ƒçš„æ€æƒ³ï¼ŒæŠŠæ¯ä¸ªå…ƒç´ æŒ‰ç…§é¢œè‰²åˆ†ç±»ï¼Œåœ¨æ‰¾1åˆ°nçš„è¿‡ç¨‹ä¸­å¦‚æœè“è‰²æœ‰å€¼å°±åŒ¹é…è“è‰²ä¸­æœ€å°çš„ï¼Œå› ä¸ºè¶Šå°çš„è“è‰²å’Œè¶Šå¤§çš„çº¢è‰²è¡¨ç¤ºçš„èŒƒå›´è¶Šå°ï¼ŒæŠŠæ•°å°½å¯èƒ½çš„ç”¨è“è‰²å»å¡«å……å¯ä»¥ä¿è¯åé¢èƒ½åŒ¹é…æ›´å¤šå¤§çš„å€¼ï¼Œå¦‚æœå½“å‰çš„è“è‰²å°äºå½“å‰å€¼è¯´æ˜è¿™ä¸ªè“è‰²æ²¡æœ‰åœ°æ–¹æ”¾æ— æ³•æ»¡è¶³ï¼Œå½“è“è‰²ç”¨å®Œäº†åå»ä½¿ç”¨çº¢è‰²ï¼Œå¦‚æœçº¢è‰²å¤§äºå½“å‰å€¼åˆ™è¿™ä¸ªä½ç½®æ— æ³•å¡«å……ä¸æ»¡è¶³æ¡ä»¶ã€‚



```python
import sys
input=sys.stdin.readline
from collections import deque
ans=[]
for _ in range(int(input())):
    n=int(input())
    nums=[int(x) for x in input().split()]
    color=input().rstrip()
    # ä½¿ç”¨é˜Ÿåˆ—å‚¨å­˜
    r=deque()
    b=deque()
    # åˆ†ç±»ï¼Œæ³¨æ„è¦å…ˆæ’åº
    for v,c in sorted([(a,b) for a,b in zip(nums,color)]):
        if c=='B':b.append(v)
        else:r.append(v)
    # æ‰¾1åˆ°nçš„æ•°
    for i in range(1,n+1):
        v=i
        # å…ˆå¼¹å‡ºè“è‰²çš„
        if b:
            if b[0]>=v:
                b.popleft()
            else:
                # é˜Ÿé¦–çš„è“è‰²æ— å¤„å®‰æ”¾ 
                ans.append('NO')
                break
        else:
            if r[0]<=v:
                r.popleft()
            else:
                ans.append('NO')
                break
    else:
        ans.append('YES')
for v in ans:
    print(v)
```

### [åˆ†å‰²ä¸¤ä¸ªå­—ç¬¦ä¸²å¾—åˆ°å›æ–‡ä¸²](https://leetcode.cn/problems/split-two-strings-to-make-palindrome/)

![image-20240410115321879](./assets/image-20240410115321879-1733840243520-215-1735358080552-89-1736827600813-34.png)



ä»åŒä¸€ä¸ªä½ç½®åˆ†å¼€ç„¶åç»„åˆåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œå¦‚æœå‰åç¼€ç›¸åŒå°±æœ‰å¯èƒ½æ˜¯å›æ–‡ä¸²ï¼Œæ¥ç€å»åˆ¤æ–­ä¸­é—´çš„å­—ç¬¦ï¼Œå‰åç¼€èƒ½åŒ¹é…çš„å­—æ¯è¶Šå¤šä¸­é—´éœ€è¦åˆ¤æ–­çš„å­—ç¬¦å°±è¶Šå°‘ï¼Œå› æ­¤æ‰¾åˆ°æœ€å¤§çš„å‰åç¼€åŒ¹é…å­—ç¬¦ç„¶åå»åˆ¤æ–­ä¸­é—´ã€‚

```python
class Solution:
    def checkPalindromeFormation(self, a: str, b: str) -> bool:
        n=len(a)
        def check(a,b):
            l,r=0,n-1
            while l<r and a[l]==b[r]:
                l+=1
                r-=1
            # ä¸­é—´çš„é‚£æ®µ
            s=a[l:r+1]
            t=b[l:r+1]
            return s==s[::-1] or t==t[::-1]
        # ä¸¤ç§æƒ…å†µ
        return  check(a,b) or check(b,a)

```

### [å½¢æˆç›®æ ‡æ•°ç»„çš„å­æ•°ç»„æœ€å°‘å¢åŠ æ¬¡æ•°](https://leetcode.cn/problems/minimum-number-of-increments-on-subarrays-to-form-a-target-array/)

![image-20240417120041007](./assets/image-20240417120041007-1733840243520-216-1735358080552-90-1736827600813-35.png)





è´ªå¿ƒçš„åšæ³•ï¼šæ¯ä¸ªå…ƒç´ æ‰€éœ€è¦çš„æ“ä½œä¸å®ƒå·¦è¾¹çš„ç›¸å…³ï¼Œå¦‚æœå·¦è¾¹çš„æ•°å°äºå®ƒï¼Œé‚£ä¹ˆéœ€è¦è¡¥ä¸€ä¸ªå·®å€¼ï¼Œå¦‚æœå¤§äºç­‰äºå®ƒé‚£ä¹ˆå°±ä¸è¦éœ€è¦æ“ä½œã€‚	

```python
class Solution:
    def minNumberOperations(self, target: List[int]) -> int:
        n=len(target)
        # dp=[0]*n
        # dp[0]=target[0]
        # for i in range(1,n):
        #     if target[i]<=target[i-1]:
        #         dp[i]=dp[i-1]
        #     else:
        #         dp[i]=dp[i-1]+target[i]-target[i-1]
        # return dp[-1]
        ans=target[0]
        for i in range(1,n):
            if target[i]>target[i-1]:
                ans+=target[i]-target[i-1]
        return ans 
```



### [è·³è·ƒæ¸¸æˆ II](https://leetcode.cn/problems/jump-game-ii/)

![image-20240427143007604](./assets/image-20240427143007604-1733840243520-217-1735358080552-91-1736827600813-36.png)

è´ªå¿ƒçš„åšæ³•ï¼Œæ¯æ¬¡å°½å¯èƒ½åœ°èµ°è¿œï¼Œç»´æŠ¤ä¸¤ä¸ªå€¼ä¸€ä¸ªæ ‡è®°ç»ˆæ­¢ä½ç½®ä¸€ä¸ªè¡¨ç¤ºå½“å‰å¯ä»¥èµ°åˆ°çš„æœ€è¿œä½ç½®ï¼Œä¸€æ—¦èµ°åˆ°ç»ˆæ­¢ä½ç½®ï¼Œé‚£å°±éœ€è¦è·³ä¸€æ­¥ï¼Œå› ä¸ºå¦‚æœä¸è·³è·ƒçš„è¯å°±æ— æ³•å¾—åˆ°éå†åé¢çš„å…ƒç´ è·å¾—æ›´è¿œçš„ä½ç½®ã€‚

```python
class Solution:
    def jump(self, nums: List[int]) -> int:
        n=len(nums)
        curr=mx=end=ans=0
        for i in range(n-1):
            mx=max(mx,i+nums[i])
            if i==end:
                ans+=1
                end=mx
        return ans 
```

### Rotation Matching

![image-20240429144101462](./assets/image-20240429144101462-1733840243520-218-1735358080552-92-1736827600813-37.png)

ç§»åŠ¨é‚£ä¸ªæ•°ç»„éƒ½ä¸€æ ·ï¼Œå› æ­¤å›ºå®šBå»ç§»åŠ¨Aï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ æŸ¥çœ‹å®ƒåœ¨ABä¸­çš„ä½ç½®ï¼Œå¦‚æœåœ¨Aä¸­çš„ä½ç½®é å·¦ä»£è¡¨Aæ•°ç»„éœ€è¦å‘å³ç§»åŠ¨r-lä¸ªå•ä½æ‰èƒ½ä¿è¯è¿™ä¸ªå…ƒç´ æ»¡è¶³è¦æ±‚ï¼Œåä¹‹è¦ç§»åŠ¨l+n-rä¸ªå•ä½æ‰èƒ½ç›¸åŒï¼ŒæŸ¥è¯¢æ¯ä¸ªå…ƒç´ ç›¸ç­‰æ‰€éœ€çš„Aæ•°ç»„å‘å³ç§»åŠ¨æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå°±æ˜¯æœ€åèƒ½å¾—åˆ°çš„æœ€å¤§çš„ç»“æœã€‚

```python
from collections import Counter,defaultdict
n=int(input())
a=[int(x) for x in input().split()] 
b=[int(x) for x in input().split()]
l=Counter()
r=Counter()
for i in range(n):
    l[a[i]]=i
    r[b[i]]=i
cnt=Counter()
for i in range(1,n+1):
    l1,r1=l[i],r[i]
    if l1<=r1:
        cnt[r1-l1]+=1
    else:
        cnt[r1+n-l1]+=1
print(max(cnt.values()))

```



### [å®Œæˆæ‰€æœ‰ä»»åŠ¡çš„æœ€å°‘åˆå§‹èƒ½é‡](https://leetcode.cn/problems/minimum-initial-energy-to-finish-tasks/)



![image-20240504144719660](./assets/image-20240504144719660-1733840243520-219-1735358080552-93-1736827600813-38.png)

è´ªå¿ƒçš„æ€æƒ³ï¼Œå¯¹äºæ¯ä¸ªä»»åŠ¡min-actualæ˜¯æœ€å°‘èƒ½å‰©ä½™å¤šå°‘èƒ½é‡ï¼Œå€’åºéå†ä¿è¯å‰©ä½™èƒ½é‡æœ€å¤šï¼Œä»è€Œå¯ä»¥éå†å®Œæ‰€æœ‰çš„ã€‚

```python
class Solution:
    def minimumEffort(self, tasks: List[List[int]]) -> int:
        tasks.sort(key=lambda x:(x[1]-x[0]),reverse=True)
        # ä¸€ä¸ªè¡¨ç¤ºå½“å‰èƒ½é‡ä¸€ä¸ªè¡¨ç¤ºåˆå§‹èƒ½é‡
        t=ans=0
        for l,r in tasks:
            # å¦‚æœå½“å‰èƒ½é‡ä¸æ»¡è¶³åªèƒ½å¢åŠ 
            if t<r:
                ans+=r-t
                t=r-l
            else:
                t-=l
        return ans
```

### [å…¨éƒ¨å¼€èŠ±çš„æœ€æ—©ä¸€å¤©](https://leetcode.cn/problems/earliest-possible-day-of-full-bloom/)

![image-20240624112852795](./assets/image-20240624112852795-1733840243520-220-1735358080552-94-1736827600813-39.png)

![image-20240624112902461](./assets/image-20240624112902461-1733840243520-221-1735358080552-95-1736827600813-40.png)

æ’­ç§æ‰€éœ€çš„æ—¶é—´æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥äº¤æ›¿æ’­ç§æˆ–è€…ä¸€ä¸ªä¸€ä¸ªæ’­ç§ï¼Œä¸¤ç§æ–¹å¼æ‰€éœ€çš„æ€»æ’­ç§æ—¶é—´æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯äº¤æ›¿æ’­ç§ä¼šä½¿ä¸€ä¸ªèŠ±çš„æ’­ç§å®Œæˆæ—¶é—´å»¶åè¿™ä¸€å®šæ˜¯ä¸å¥½çš„ï¼Œå› æ­¤é€‰æ‹©ç§å®Œä¸€ä¸ªå»ç§å¦ä¸€ä¸ªã€‚

<img src="./assets/image-20240624113103350-1733840243520-222-1735358080552-96-1736827600814-41.png" alt="image-20240624113103350" style="zoom: 50%;" />

```python
class Solution:
    def earliestFullBloom(self, plantTime: List[int], growTime: List[int]) -> int:
        d=ans=0
        for i,j in sorted(zip(plantTime,growTime),key=lambda x:-x[-1]):
            d+=i
            ans=max(ans,d+j)
        return ans 
```

























### [ ç§»é™¤åé›†åˆçš„æœ€å¤šå…ƒç´ æ•°](https://leetcode.cn/problems/maximum-size-of-a-set-after-removals/)

<img src="./assets/image-20240514114527436-1733840243520-223-1735358080552-97-1736827600814-42.png" alt="image-20240514114527436" style="zoom:50%;" />



é€†å‘æ€ç»´ï¼šä»ä¸¤ä¸ªæ•°ç»„ä¸­å–å‡ºä¸€åŠçš„å…ƒç´ ç»„åˆåœ¨ä¸€èµ·

è´ªå¿ƒçš„æ€æƒ³ï¼šæ¯æ¬¡å–å€¼è¦ä»ä¸¤ä¸ªæ•°ç»„ä¸­ç‹¬æœ‰çš„å–ï¼Œä¸”ä¸èƒ½å¤§äºä¸€åŠ

```python
class Solution:
    def maximumSetSize(self, nums1: List[int], nums2: List[int]) -> int:
        n=len(nums1)
        nums1=set(nums1)
        nums2=set(nums2)
        common=len(nums1&nums2)
        # ç‹¬æœ‰çš„å°±æ˜¯å–å‡ºäº†é‡å¤å€¼åå†å‡å»ä¸¤ä¸ªå…±æœ‰çš„
        a=min(len(nums1)-common,n//2)
        b=min(len(nums2)-common,n//2)
	# å¦‚æœæ²¡å–æ»¡nï¼Œå†ä»å…±æœ‰çš„é‡Œé¢å–n-a-bä¸ªï¼Œå¦‚æœä¸å¤Ÿå°±åªèƒ½æ˜¯commonä¸ª
        return a+b+min(n-a-b,common)   
```



ä»æ­£å‘çœ‹

```python
class Solution:
    def maximumSetSize(self, nums1: List[int], nums2: List[int]) -> int:
        n=len(nums1)
        m=n//2
        
        nums1=set(nums1)
        nums2=set(nums2)
        # å…ˆå‡è®¾ä¸åˆ é™¤å€¼è®¾ç½®åˆå§‹çš„ç»“æœ
        ans=len(nums1)+len(nums2)
        common=len(nums1&nums2)
        ans-=common
        
        # å¦‚æœåˆ é™¤çš„å€¼ä¸è¶³ä¸€åŠ
        if n-len(nums1)<m:
            temp=m-(n-len(nums1))
            # å…ˆä»é‡å¤çš„å€¼ä¸­åˆ é™¤ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ€åç»“æœæœ€å¤§
            if common>=temp:
                common-=temp
            else:
                # å¦‚æœé‡å¤çš„å€¼ä¸å¤Ÿï¼Œåªèƒ½åœ¨åˆ å®Œé‡å¤çš„ä¹‹åæŠŠå‡ºç°ä¸€æ¬¡çš„å€¼åˆ é™¤
                temp-=common
                ans-=temp
                common=0
        # å¯¹äºå¦ä¸€ä¸ªä¹Ÿæ˜¯åŒæ ·çš„æ“ä½œ
        if n-len(nums2)<m:
            temp=m-(n-len(nums2))
            if common>=temp:
                common-=temp
            else:
                temp-=common
                ans-=temp
                common=0
        
        return ans

```



### Cat, Fox and Double Maximum

![image-20240520102736467](./assets/image-20240520102736467-1733840243520-224-1735358080552-98-1736827600814-43.png)



é¢˜ç›®å¤§æ„æ˜¯å¯¹äºç»™å®šçš„æ’åˆ—æ‰¾ä¸€ä¸ªä»1åˆ°nçš„æ’åˆ—ä½¿å¾—å¯¹åº”ä½ç½®ç›¸åŠ åçš„æ–°çš„æ’åˆ—å¾—åˆ†æœ€å¤§ï¼Œè¿™ä¸ªçš„å¾—åˆ†æœ€å¤§æŒ‡å®šçš„å­˜åœ¨æœ€å¤šçš„å³°(å³ä¸€ä¸ªæ•°ä¸¥æ ¼å¤§äºä¸¤è¾¹çš„æ•°)

å¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œæœ€å¤šå¯ä»¥æ„é€ n//2-1ä¸ªè¿™æ ·çš„å³°

å¯¹äºè¯¥é¢˜è®¤ä¸ºä¸€å®šå¯ä»¥æ„é€ å‡ºn//2-1ä¸ªå³°ï¼Œè§‚å¯Ÿæ ·ä¾‹å‘ç°ï¼Œå³°çš„ä½ç½®è¦ä¹ˆæ˜¯1 3 5...è¦ä¹ˆæ˜¯2 4 6...ï¼Œå› æ­¤å¯¹è¯¥é¢˜ç›´æ¥æ„é€ ï¼Œè‡³äºä¸ºä»€ä¹ˆï¼Œè´ªå¿ƒæœ‰çš„æ—¶å€™æ˜¯çœ‹æ„Ÿè§‰çš„ã€‚

```python
from collections import deque
import sys
input=sys.stdin.readline
for _ in range(int(input())):
    n=int(input())
    nums=[int(x) for x in input().split()]
    k=n//2-1
    ans=[0]*n
    # æå–å‡ºå¯¹åº”ä½ç½®çš„å€¼ï¼ŒæŠŠå¤§çš„å€¼èµ‹ç»™å°çš„å³°ï¼ŒæŠŠå°çš„å€¼èµ‹ç»™è¾ƒå¤§çš„è°·åº•
    mx=[]
    mn=[]
    r=n
    l=1
    for i in range(n):
        if i&1 and i!=n-1:mx.append([nums[i],i])
        else:mn.append([nums[i],i])
    mx.sort(key=lambda x:x[0])
    mn.sort(key=lambda x:x[0])
    for i,j in mx:
        ans[j]=r
        r-=1
    for i,j in mn[::-1]:
        ans[j]=l
        l+=1
    temp=0
    # å¦‚æœ 1 3 5ç­‰ä½ç½®ä¸å¯ã€‚é‚£ä¹ˆå°±å»æ‰¾ 2 4 6ä½ç½®
    for i in range(1,n-1,2):
        if nums[i]+ans[i]>nums[i+1]+ans[i+1] and nums[i]+ans[i]>nums[i-1]+ans[i-1]:temp+=1
    if temp==k:print(*ans)
    else:
        mx=[]
        mn=[]
        ans=[0]*n
        r=n
        l=1
        for i in range(n):
            if i>=2 and i&1==0 and i!=n-1:mx.append([nums[i],i])
            else:mn.append([nums[i],i])
        mx.sort(key=lambda x:x[0])
        mn.sort(key=lambda x:x[0])
        for i,j in mx:
            ans[j]=r
            r-=1
        for i,j in mn[::-1]:
            ans[j]=l
            l+=1
        print(*ans)

```



### Alternating Subsequence

![image-20240527110700108](./assets/image-20240527110700108-1733840243520-230-1735358080552-99-1736827600814-44.png)

é€‰å–ç›¸é‚»å¼‚å·çš„æ•°å­—ï¼Œè¦æ±‚æœ€åçš„å­åºåˆ—å’Œæœ€å¤§å¹¶ä¸”è¿™ä¸ªå­åºåˆ—çš„é•¿åº¦å¿…é¡»ç­‰äºæ•´ä¸ªæ•°ç»„æœ€é•¿çš„ç›¸é‚»å¼‚å·çš„é•¿åº¦ã€‚

ä¸ºäº†å–å‡ºç›¸é‚»å¼‚å·çš„æ•°å­—ï¼ŒæŠŠæ•°ç»„ä¸­ç¬¦å·ç›¸åŒçš„åˆ†ä¸ºä¸€ç»„ï¼Œä»æ¯ä¸ªç»„ä¸­å–å‡ºä¸€ä¸ªæ•°å­—è¿™èƒ½åšåˆ°å–å‡ºæœ€é•¿çš„ç›¸é‚»å¼‚å·çš„å­åºåˆ—ï¼Œè¦æ±‚å­æ•°ç»„å’Œæœ€å¤§é‚£ä¹ˆè¦åœ¨æ¯ä¸ªç»„ä¸­å–å‡ºæ•°æ˜¯æœ€å¤§çš„ã€‚

```python
import sys
input=sys.stdin.readline

for _ in range(int(input())):
    n=int(input())
    nums=[int(x) for x in input().split()]
    i=0
    ans=0
    while i<n:
        start=i
        i+=1
        mx=nums[start]
        while i<n and nums[i]*nums[i-1]>0:
            mx=max(mx,nums[i])
            i+=1
        ans+=mx
    print(ans)
```

### [ä¸å¯èƒ½å¾—åˆ°çš„æœ€çŸ­éª°å­åºåˆ—](https://leetcode.cn/problems/shortest-impossible-sequence-of-rolls/)

![image-20240529082310803](./assets/image-20240529082310803-1733840243520-225-1735358080552-100-1736827600814-45.png)

é¢˜ç›®å¤§æ„æ˜¯è¦æ‰¾å‡ºä¸€ä¸ªæœ€å°çš„é•¿åº¦ï¼Œå¯¹äºè¿™ä¸ªé•¿åº¦åœ¨æ•°ç»„ä¸­æ— æ³•æ‰¾åˆ°æ‰€æœ‰å…ƒç´ çš„ç»„åˆ

è´ªå¿ƒçš„æ€è·¯ï¼šæ¯æ¬¡æ‰¾å‡ºåŒ…å«æ‰€æœ‰å…ƒç´ çš„æœ€çŸ­å‰ç¼€ï¼Œæ‰¾åˆ°äº†ä¹‹åå†ç»§ç»­å¾€åæ‰¾ä¸‹ä¸€ç»„ã€‚å‡è®¾æ‰¾åˆ°äº†mç»„é‚£ä¹ˆä¸€å®šèƒ½æ„é€ å‡ºé•¿åº¦ä¸ºmçš„å­åºåˆ—ï¼Œå³ä»æ¯ä¸€ç»„ä¸­å–å‡ºéœ€è¦çš„ï¼Œå› æ­¤ä¸èƒ½å¾—åˆ°çš„æœ€çŸ­å­åºåˆ—å°±æ˜¯m+1

```python
class Solution:
    def shortestSequence(self, rolls: List[int], k: int) -> int:
        memo=Counter()
        m=0
        for r,x in enumerate(rolls):
            memo[x]+=1
            if len(memo)==k:
                m+=1
                memo=Counter()
        return m+1
```



### Alarm Clock 



![image-20240605180448076](./assets/image-20240605180448076-1733840243520-226-1735358080552-101-1736827600814-46.png)

æŠŠé—®é¢˜æƒ³è±¡æˆæ˜¯åœ¨ä¸€ä¸ªæ•°è½´ä¸Šæœ‰å¤šä¸ªç‚¹

æ›´å…·ä½“ä¸€ç‚¹å°±æ˜¯ï¼šæ•°è½´ä¸Šæœ‰ n ä¸ªç‚¹ï¼Œè¦æ±‚ä»»æ„é•¿ä¸º m-1 çš„é—­åŒºé—´ä¸èƒ½åŒ…å« >= k ä¸ªç‚¹ã€‚é—®ï¼šè‡³å°‘è¦å»æ‰å¤šå°‘ä¸ªç‚¹ï¼Ÿ

ç»´æŠ¤çª—å£å†…çš„ç‚¹çš„ä¸ªæ•° cntã€‚æšä¸¾ $a_i$ ä½œä¸ºçª—å£å³ç«¯ç‚¹ä½ç½®ï¼Œå¦‚æœçª—å£é•¿åº¦ â‰¥ğ‘šâ‰¥*m* åˆ™ç§»åŠ¨çª—å£å·¦ç«¯ç‚¹ left*left*ã€‚å¦‚æœå‘ç° cnt=ğ‘˜*cnt*=*k*ï¼Œåˆ™ä¼˜å…ˆåˆ é™¤çª—å£æœ€å³è¾¹çš„ç‚¹ï¼Œè¿™æ ·æ›´å³è¾¹çš„çª—å£å¯ä»¥åŒ…å«çš„ç‚¹æ›´å°‘ï¼Œåˆ é™¤å³è¾¹çš„ç‚¹å¯ä»¥ä½¿ä¸€ä¸ªåŒºé—´èƒ½åŒ…å«çš„ç‚¹æœ€å°‘ä»è€Œå‡å°‘æ“ä½œæ¬¡æ•°ã€‚

```python
from bisect import bisect_left
from collections import deque

n,m,k=[int(x) for x in input().split()]
nums=[int(x) for x in input().split()]
nums.sort()
ans=0
d=deque()
for r,x in enumerate(nums):
    d.append(x)
    while d and d[-1]-d[0]+1>m:
        d.popleft()
    while d and len(d)>=k:
        d.pop()
        ans+=1
print(ans)
```

### [éœ€è¦æ•™è¯­è¨€çš„æœ€å°‘äººæ•°](https://leetcode.cn/problems/minimum-number-of-people-to-teach/)

![image-20240606085845949](./assets/image-20240606085845949-1733840243520-227-1735358080552-102-1736827600814-47.png)

æ³¨æ„æ˜¯åªèƒ½æ•™ä¸€é—¨è¯­è¨€ï¼Œæ‰¾å‡ºæ‰€æœ‰æ— æ³•æ²Ÿé€šçš„å¥½å‹ç»Ÿè®¡ä»–ä»¬ä¼šçš„æœ€å¤šçš„è¯­è¨€ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—éœ€è¦æ•™çš„äººæœ€å°‘ã€‚

### Two Movies

![image-20240817120704583](./assets/image-20240817120704583-1733840243520-228-1735358080552-103-1736827600814-48.png)

è¿™é‡Œä¸éœ€è¦æŒ‰ç…§é¡ºåºå¤„ç†ï¼Œå¯¹äºä¸åŒçš„å¾—åˆ†ä¸€å®šæ˜¯è¦é«˜åˆ†ï¼Œè€Œå¯¹äºéƒ½ä¸º1çš„æƒ…å†µè‚¯å®šæ˜¯ç»™è¾ƒå°çš„åˆ†æ•°éƒ½ä¸º-1çš„æƒ…å†µä¸€å®šæ˜¯ç»™è¾ƒå¤§é‚£ä¸ªï¼Œä½†æ˜¯åªæœ‰å½“æ‰€æœ‰ä¸åŒçš„å¤„ç†å®Œäº†æ‰èƒ½çŸ¥é“ç›¸åŒçš„è¯¥å¦‚ä½•åˆ†é…ï¼Œå› æ­¤å…ˆå¤„ç†ä¸åŒçš„å†å¤„ç†ç›¸åŒçš„ã€‚

```python
for _ in range(R()):
    n=R()
    a=RR()
    b=RR()
    arr=[]
    l=r=pre=0
    for i,j in zip(a,b):
        if  i>j:
            l+=i
        elif j>i:
            r+=j
        else:
          arr.append(i)
    for v in arr:
        if v==1:
            if l<r:l+=1
            else:r+=1
        elif v==-1:
            if l<r:r-=1
            else:l-=1
    print(min(l,r))
```













































### [ çŸ³å­æ¸¸æˆ VI](https://leetcode.cn/problems/stone-game-vi/)

![image-20240611094036145](./assets/image-20240611094036145-1733840243520-232-1735358080552-104-1736827600814-49.png)

è´ªå¿ƒçš„æ€æƒ³ï¼Œæ‹¿èµ°ä¸€ä¸ªä½ç½®çš„ç»“æœä¸å•å•çœ‹ä»–èƒ½ç»™è‡ªèº«è´¡çŒ®å¤šå°‘å€¼ï¼ŒåŒæ—¶è¿˜è¦çœ‹ä»–èƒ½å‡å°‘åˆ«äººå¤šå°‘ï¼Œæ¯”å¦‚è¿™ä¸ªä½ç½®èƒ½ç»™è‡ªèº«è´¡çŒ®1ï¼Œä½†æ˜¯å´èƒ½è®©åˆ«äººå‡å°‘100ï¼Œæ€»çš„æ”¶ç›Šå®é™…ä¸Šå°±æ˜¯101ï¼Œåœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­æ¯ä¸ªäººé€‰æ‹©å½“å‰æ”¶ç›Šæœ€å¤§çš„ï¼Œå°†å¯¹åº”çš„åˆ†æ•°ç´¯åŠ åˆ°è‡ªèº«ã€‚

æˆ–è€…

![image-20240611094734020](./assets/image-20240611094734020-1733840243520-229-1735358080552-105-1736827600814-50.png)

```python
class Solution:
    def stoneGameVI(self, aliceValues: List[int], bobValues: List[int]) -> int:
        a=b=0
        # æŒ‰ç…§å®é™…çš„æ”¶ç›Šæ’åº
        nums=[(a+b,i) for i,(a,b) in enumerate(zip(aliceValues,bobValues))]
        nums.sort()
        nums=nums[::-1]
        for i in range(len(nums)):
            x,j=nums[i]
            # ç´¯åŠ ä¹‹ç±»åŠ æ¯ä¸ªä½ç½®ç›¸åº”çš„å€¼è€Œä¸æ˜¯å®é™…æ”¶ç›Š
            if i&1:
                b+=bobValues[j]
            else:
                a+=aliceValues[j]
        if a==b:return 0
        elif a>b:return 1
        return -1
```



### 0, 1, 2, Tree!

![image-20240619213459375](./assets/image-20240619213459375-1733840243520-231-1735358080552-106-1736827600814-51.png)

é¦–å…ˆåˆ¤æ–­ä¸æ»¡è¶³çš„æ¡ä»¶ï¼Œå¯¹äºaï¼Œä»–èƒ½æœ‰2*aä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯å·²ç»ç”¨æ‰äº†a-1ä¸ªï¼Œå‰©ä¸‹çš„a+1ä¸ªèŠ‚ç‚¹æœ€ç»ˆä¸€å®šè¿æ¥åˆ°cå› ä¸ºbä¸ä¼šå½±å“åˆ°cçš„æ•°é‡ï¼Œå› æ­¤a+1=cã€‚

ä¸ºäº†æ ‘çš„é«˜åº¦æœ€å°ä¸€å®šæ˜¯å…ˆæ„é€ æ‰€æœ‰çš„aï¼Œå› ä¸ºbåªä¼šè®©æ ‘çš„é«˜åº¦å¢å¤§è€Œaå¯ä»¥å¤šå®¹çº³åˆ«çš„èŠ‚ç‚¹ã€‚

```python
from math import ceil

for _ in range(int(input())):
    a,b,c=[int(x) for x in input().split()]
    if a+1!=c:print(-1)
    elif not a:print(b)
    else:
        # aèƒ½æ”¾ç½®çš„å±‚æ•°ç­‰äºaçš„äºŒè¿›åˆ¶é•¿åº¦
        l=a.bit_length()
        # æœ€åä¸€å±‚ä¸ä¸€å®šé“ºæ»¡æ‰€ä»¥ç•™ç»™b
        k=pow(2,l)-c
        b-=k
        if b<=0:print(l)
        else:
            # å¦‚æœè¿˜æœ‰bå°±åªèƒ½æ¥åœ¨cçš„ä¸‹é¢
            l+=ceil(b/c)
            print(l)

```

### [åˆ¤æ–­ä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆ](https://leetcode.cn/problems/check-if-a-parentheses-string-can-be-valid/)

![image-20240627102727897](./assets/image-20240627102727897-1733840243520-233-1735358080552-107-1736827600814-52.png)

![image-20240627102734064](./assets/image-20240627102734064-1733840243520-234-1735358080552-108-1736827600814-53.png)

é¦–å…ˆæ­£å‘éå†ï¼Œé‡åˆ°å¯ä»¥å˜æ¢çš„åŠ ä¸€ï¼Œå¦åˆ™å¯¹(åŠ ä¸€ï¼Œ)å‡ä¸€ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å˜é‡çš„å€¼å°äº0è¯´æ˜æ— æ³•åŒ¹é…è¿‡å¤šçš„å³æ‹¬å·(å³ä½¿æŠŠæ‰€æœ‰å¯ä»¥å˜å¾—éƒ½å˜åŒ–äº†)ï¼Œå†å€’åºéå†ï¼Œç”¨åŒæ ·çš„æ–¹å¼å¤„ç†å·¦æ‹¬å·è¾ƒå¤šçš„æƒ…å†µã€‚

```python
class Solution:
    def canBeValid(self, s: str, locked: str) -> bool:
        n=len(locked)
        # å¥‡æ•°ä¸€å®šä¸è¡Œ
        if n&1:return False
        cnt=0
        for i,c in enumerate(s):
            if locked[i]=='0':
                cnt+=1
                continue
            if c=='(':cnt+=1
            else:cnt-=1
            if cnt<0:return False

        cnt=0
        for i in range(n-1,-1,-1):
            c=s[i]
            if locked[i]=='0':
                cnt+=1
                continue
            if c==')':cnt+=1
            else:cnt-=1
            if cnt<0:return False
        return True 
```

### [å¾—åˆ°å›æ–‡ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°](https://leetcode.cn/problems/minimum-number-of-moves-to-make-palindrome/)

![image-20240723112221647](./assets/image-20240723112221647-1733840243520-235-1735358080552-109-1736827600814-54.png)

è´ªå¿ƒçš„æ€è·¯ï¼Œæ¯æ¬¡å…ˆæ“ä½œæœ€å¤–è¾¹çš„å­—ç¬¦ä½¿å®ƒä½ç½®å¯¹åº”ï¼Œå½“å¤„ç†å®Œå®Œäº†å¤–è¾¹çš„å­—ç¬¦é—®é¢˜çš„è§„æ¨¡å°±ä¼šç¼©å°ã€‚

<img src="./assets/image-20240723112327888-1733840243520-236-1735358080552-110-1736827600814-55.png" alt="image-20240723112327888" style="zoom:50%;" />



```python
class Solution:
    def minMovesToMakePalindrome(self, s: str) -> int:
        @cache
        def dfs(s):
            n=len(s)
            if n<=1:return 0
            # å…ˆå¤„ç†å³è¾¹æœ€å…ˆå‡ºç°çš„å­—ç¬¦    
            for i in range(n-1):
                if s[i]==s[-1]:
                    return i+dfs(s[:i]+s[i+1:-1])
            # å¦‚æœèƒ½èµ°åˆ°è¿™é‡Œè¯´æ˜è¿™ä¸ªå­—ç¬¦å‡ºç°ä¸€æ¬¡ï¼Œå…ˆè·³è¿‡æ¥ç€ä»å·¦è¾¹å¼€å§‹æ‰¾
            for i in range(n-1,0,-1):
                if s[i]==s[0]:
                    return n-1-i+dfs(s[1:i]+s[i+1:])
            return -1
        return dfs(s)
```

### [å®Œæˆæ‰€æœ‰äº¤æ˜“çš„åˆå§‹æœ€å°‘é’±æ•°](https://leetcode.cn/problems/minimum-money-required-before-transactions/)

![image-20240724093909072](./assets/image-20240724093909072-1733840243520-237-1735358080552-111-1736827600814-56.png)

é¦–å…ˆå¯¹æ¯ä¸ªæŠ•èµ„åˆ†ç±»è¦ä¹ˆæ˜¯äºäº†è¦ä¹ˆæ˜¯èµšäº†ï¼Œä¹‹åè€ƒè™‘æ¯ä¸ªäº¤æ˜“ä¸ºäº†å®Œæˆè¿™ä¸ªäº¤æ˜“æœ€åçš„æƒ…å†µæ˜¯æŠŠé™¤äº†å®ƒè‡ªèº«å¤–æŠ•èµ„äºæŸçš„å¤„ç†è¿‡äº†åå‰©ä¸‹çš„é’±å¤§äºç­‰äºcostï¼Œæœ€åçš„ç­”æ¡ˆå°±æ˜¯æšä¸¾è¿‡ç¨‹ä¸­çš„æœ€å¤§å€¼

```python
class Solution:
    def minimumMoney(self,nums: List[List[int]]) -> int:
        n=len(nums)
        s=0
        ans=0
        # å…ˆæ±‚å‡ºæ‰€æœ‰çš„äºæŸ
        for i in range(n):
            l,r=nums[i]
            deg=l-r
            s+=max(deg,0)
        # å¯¹äºäºæŸçš„äº¤æ˜“ï¼Œå…ˆå‡å»æ€»çš„äºæŸä¸­è‡ªå·±çš„é‚£ä¸€éƒ¨åˆ†ï¼Œèµšäº†çš„ä¸éœ€è¦è€ƒè™‘
        for i in range(n):
            l,r=nums[i]
            deg=l-r
            if deg>0:
                ans=max(ans,s-deg+l)
            else:
                ans=max(ans,s+l)
        return ans
```



### Grouping Increases

<img src="./assets/image-20240804100008385-1733840243520-238-1735358080552-112-1736827600814-57.png" alt="image-20240804100008385" style="zoom:50%;" />

å®šä¹‰ä¸¤ä¸ªå­åºåˆ—çš„ç»“å°¾å…ƒç´ x,y(x>y)ï¼Œç­”æ¡ˆçš„è´¡çŒ®åªä¸ä¸¤ä¸ªç›¸é‚»çš„æ•°æœ‰å…³ï¼Œå¯¹äºæ¯ä¸€ä¸ªå…ƒç´ è€ƒè™‘æŠŠå®ƒæ”¾å…¥é‚£ä¸ªåºåˆ—ä¸­ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ å¤§äºxé‚£ä¹ˆåªèƒ½è´¡çŒ®ç­”æ¡ˆï¼ŒæŠŠyå˜ä¸ºè¿™ä¸ªå…ƒç´ å› ä¸ºè¦ä¿è¯ä¸¤ä¸ªå…ƒç´ éƒ½å°½å¯èƒ½å¤§æ‰èƒ½ä½¿ç­”æ¡ˆè¾ƒå°ï¼Œå¦‚æœx>=val>yé‚£ä¹ˆä¸æƒ³å˜å¤§ç­”æ¡ˆæŠŠå®ƒæ”¾åˆ°xçš„æœ«å°¾ï¼Œå¦‚æœval<yé‚£ä¹ˆä¸ºäº†ä¸¤ä¸ªç»“å°¾éƒ½å°½å¯èƒ½å¤§æŠŠxå˜ä¸ºvalã€‚

```python
for _ in range(R()):
    n=R()
    nums=RR()
    ans=0
    s,t=n+2,n+1
    for i in range(n):
        v=nums[i]
        if v>s:
            t=v
            ans+=1
            if t>s:s,t=t,s
        elif s>=v>t:
            s=v
        else:
            t=v
    print(ans)
```



### [èŠ‚ç‚¹åºåˆ—çš„æœ€å¤§å¾—åˆ†](https://leetcode.cn/problems/maximum-score-of-a-node-sequence/)

![{E49499CD-16AB-4EC6-8604-7E9341088A6A}](./assets/{E49499CD-16AB-4EC6-8604-7E9341088A6A}-1736827600814-58.png)

<img src="./assets/{A29865AE-3E96-4FE6-BD70-5C6EB752F080}-1736827600814-59.png" alt="{A29865AE-3E96-4FE6-BD70-5C6EB752F080}" style="zoom:50%;" />

å¦‚æœé•¿åº¦ä¸º3ï¼Œé‚£ä¹ˆç›´æ¥æšä¸¾ä¸­é—´çš„ç«¯ç‚¹ï¼Œç„¶åé€‰æ‹©ä¸¤ä¸ªæœ€å¤§çš„ç›¸é‚»ç‚¹å³å¯ã€‚å¯¹äºé•¿åº¦ä¸º4ï¼Œè¿™é‡Œé€‰æ‹©æšä¸¾æ¯ä¸€æ¡è¾¹ï¼Œå¯¹è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹æ‰¾ç›¸é‚»çš„æœ€å¤§ä¸”ä¸åŒçš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå¯¹æ¯ä¸ªç‚¹é¢„å¤„ç†å‡ºæœ€å¤§çš„ä¸‰ä¸ªç›¸é‚»ç‚¹ï¼Œå› ä¸ºå¯èƒ½ä¼šç­‰äºç«¯ç‚¹æˆ–è€…ç­‰äºå¦ä¸€ä¸ªç«¯ç‚¹çš„ç›¸é‚»ç‚¹ã€‚

```python
class Solution:
    def maximumScore(self,nums: List[int], edges: List[List[int]]) -> int:

        n=len(nums)
        g=[[] for _ in range(n)]
        for u,v in edges:
            g[u].append((nums[v],v))
            g[v].append((nums[u],u))
        for i,arr in enumerate(g):
            if len(arr)>3:g[i]=nlargest(3,arr)
        ans=-1
        for x,y in edges:
            for _,l in g[x]:
                if l==y:continue
                for _,r in g[y]:
                    if r==x or l==r:continue
                    ans=max(ans,nums[x]+nums[y]+nums[l]+nums[r])
        return ans 
```



### é¢˜ç›®åˆ—è¡¨

http://codeforces.com/problemset/problem/1579/D ä¸€ç»„æ•°ä¸¤ä¸¤åŒ¹é…ï¼ŒåŒ¹é…ä¸€æ¬¡æ•°å€¼å‡å°1ï¼Œé—®æœ€å¤šçš„åŒ¹é…æ¬¡æ•°







